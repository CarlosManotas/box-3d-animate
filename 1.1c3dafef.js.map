{"version":3,"sources":["webpack:///./src/boxChild.js","webpack:///./src/createBox.js"],"names":["Box","styled","div","_templateObject","props","image","type","css","_templateObject2","height","width","_templateObject3","depth","_templateObject4","_templateObject5","shadowBottom","_templateObject6","_templateObject7","BoxChild","react_default","a","createElement","_extends","children","Box3d","createBox_templateObject","perspective","perspectiveOrigin","maxWidth","margin","transformOrigin","animationName","duration","iterationCount","timingFunction","direction","CreateBox","_classCallCheck","this","_this","_possibleConstructorReturn","_React$Component","call","calculo","w","defaultWidth","x","myRef0","current","y","z","myRef4","percent","setState","loading","React","createRef","state","componentDidMount","_this2","Ima","Image","src","frontSide","onload","componentDidUpdate","prevProps","_this3","backSide","leftSide","topSide","rightSide","render","_this4","_props","bottomSide","allImages","url","_state","stackProps","Fragment","src_loading","createBox_extends","className","map","side","index","key","ref","alt","Component","defaultProps"],"mappings":"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","file":"1.1c3dafef.js","sourcesContent":["import React from \"react\";\nimport styled, { css } from \"styled-components\";\n\nconst Box = styled.div`\n  position: absolute;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-color: #ddd;\n  background-image: ${props => `url(${props.image})`};\n  img {\n    display: none;\n  }\n  ${props => props.type === \"frontSide\" && css`\n    height: ${props => props.height + \"px\"};\n    width: ${props => props.width + \"px\"};\n    transform-origin: center center\n  `}\n  ${props => props.type === \"backSide\" && css`\n    height: ${props => props.height + \"px\"};\n    width: ${props => props.width + \"px\"};\n    transform: ${props => `rotate(180deg) rotateX(180deg) translateZ(${props.depth}px)`};\n    transform-origin: center center\n  `}\n  ${props => props.type === \"topSide\" && css`\n    height: ${props => props.depth + \"px\"};\n    width: ${props => props.width + \"px\"};\n    transform-origin: top center;\n    transform: rotateX(-90deg) rotateY(180deg)\n  `}\n  ${props => props.type === \"bottomSide\" && css`\n    height: ${props => props.depth + \"px\"};\n    width: ${props => props.width + \"px\"};\n    transform: ${props => `rotateX(-90deg) translateZ(${props.height}px)`};\n    transform-origin: top center;\n    box-shadow: ${props => props.shadowBottom ? '10px 10px 50px rgba(0, 0, 0, 0.5), -15px -15px 50px rgba(0, 0, 0, 0.5)' : 'none'}\n  `}\n  ${props => props.type === \"leftSide\" && css`\n    height: ${props => props.height + \"px\"};\n    width: ${props => props.depth + \"px\"};\n    transform: ${props => `rotateY(-90deg) translateZ(${props.depth}px)`};\n    transform-origin: center right\n  `}\n  ${props => props.type === \"rightSide\" && css`\n    height: ${props => props.height + \"px\"};\n    width: ${props => props.depth + \"px\"};\n    transform: ${props => `rotateY(90deg) translateZ(${props.width}px)`};\n    transform-origin: center left\n  `}\n`;\n\nexport default function BoxChild(props){\n    return <Box {...props} children={props.children}/>\n} ","import React from 'react';\nimport styled from 'styled-components';\nimport LoadingComponent from './loading';\nimport BoxChild from './boxChild';\n\nconst Box3d = styled.div`\n  position: relative;\n  width: 100%;\n  min-height: ${props => props.height + \"px\"}\n  perspective: ${props => props.perspective};\n  perspective-origin: ${props => props.perspectiveOrigin}\n\n  & .box-3d {\n    transform-style: preserve-3d;\n    max-width: ${props => props.maxWidth};\n    position: relative;\n    margin: ${props => props.margin};\n    transform-origin: ${props => props.transformOrigin};\n    animation: ${props => `${props.animationName} ${props.duration} ${props.iterationCount} ${props.timingFunction} ${props.direction}`}\n  }\n\n  @keyframes roundsY {\n    from {\n      transform: rotateY(0)\n    }\n    to {\n      transform: rotateY(-360deg)\n    }\n  }\n\n  @keyframes roundsX {\n    from {\n      transform: rotateX(0)\n    }\n    to {\n      transform: rotateX(-360deg)\n    }\n  }\n\n  @keyframes rounds {\n    from {\n      transform: rotate(0)\n    }\n    to {\n      transform: rotate(-360deg)\n    }\n  }\n`;\n\n\n\nexport default class CreateBox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.myRef0 = React.createRef();\n    this.myRef4 = React.createRef();\n    this.state = {\n      height: 0,\n      depth: 0,\n      width: 0,\n      loading: true\n    }\n  }\n\n  componentDidMount() {\n    const Ima = new Image();\n    Ima.src = this.props.frontSide;\n    Ima.onload = () => this.calculo();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      (prevProps.defaultWidth !== this.props.defaultWidth) ||\n      (prevProps.frontSide !== this.props.frontSide) ||\n      (prevProps.backSide !== this.props.backSide) ||\n      (prevProps.leftSide !== this.props.leftSide) ||\n      (prevProps.topSide !== this.props.topSide) ||\n      (prevProps.rightSide !== this.props.rightSide)\n    ) {\n      const Ima = new Image();\n      Ima.src = this.props.frontSide;\n      Ima.onload = () => this.calculo();\n    }\n  }\n\n  calculo = () => {\n    const { defaultWidth } = this.props;\n\n    const w = defaultWidth;\n    const x = this.myRef0.current.width;\n    const y = this.myRef0.current.height;\n    const z = this.myRef4.current.width;\n\n    let width = w;\n    let percent = (width * 100) / x;\n    let height = (percent * y) / 100;\n    let depth = (percent * z) / 100;\n\n    if (y > x) {\n      height = w;\n      percent = (height * 100) / y;\n      width = (percent * x) / 100;\n      depth = (percent * z) / 100;\n    }\n\n    this.setState({ height, depth, width, loading: false });\n  }\n\n  render(){\n    const {\n      leftSide,\n      frontSide,\n      topSide,\n      backSide,\n      rightSide,\n      bottomSide,\n      shadowBottom\n    } = this.props;\n\n    const allImages = [\n      {type: \"frontSide\", url: frontSide},\n      {type: \"backSide\", url: backSide},\n      {type: \"topSide\", url: topSide},\n      {type: \"bottomSide\", url: bottomSide || topSide},\n      {type: \"leftSide\", url: leftSide},\n      {type: \"rightSide\", url: rightSide}\n    ];\n\n    const {\n      height,\n      width,\n      depth,\n      loading\n    } = this.state;\n\n    const stackProps = {\n      height,\n      width,\n      depth,\n      shadowBottom\n    }\n\n    return (\n      <React.Fragment>\n        {loading && <LoadingComponent {...this.props}/>}\n        <Box3d {...this.props} {...stackProps}>\n          <div className=\"box-3d\">\n            {allImages.map((side, index) => (\n              <BoxChild\n                {...stackProps}\n                key={side.type}\n                type={side.type}\n                image={side.url}\n              >\n                <img ref={this[`myRef${index}`]} src={side.url} alt='box'/>\n              </BoxChild>\n            ))}\n          </div>\n        </Box3d>\n      </React.Fragment>\n    );\n  }\n};\n\nCreateBox.defaultProps = {\n  leftSide: \"https://via.placeholder.com/200\",\n  backSide: \"https://via.placeholder.com/200\",\n  frontSide: \"https://via.placeholder.com/200\",\n  rightSide: \"https://via.placeholder.com/200\",\n  topSide: \"https://via.placeholder.com/200\",\n  margin: \"5em auto auto\",\n  defaultWidth: 200,\n  maxWidth: \"150px\",\n  duration: \"10s\",\n  perspective: \"800px\",\n  perspectiveOrigin: \"50% -150px\",\n  transformOrigin: \"50% 50% -2em\",\n  timingFunction: \"linear\",\n  iterationCount: \"infinite\",\n  direction: \"normal\",\n  animationName: \"roundsY\",\n  shadowBottom: true\n}"],"sourceRoot":""}